<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="rurri-article-preview" attributes="article height">
  <template>
    <link rel="stylesheet" href="rurri-article-preview.css">

    <div class="article-preview">
      <paper-shadow id="card_shadow">
        <div class="article-preview-card" on-mouseover='{{onHovered}}' on-mouseout='{{onUnhovered}}'>
        <a href="#/{{link}}">
          <div horizontal wrap layout>
            <div><h1 class="title">{{article.title}}</h1></div>
            <div flex></div>
            <div>
              <time is="time-ago" datetime="{{article.posted}}">
              </time></div>
          </div>
          <div id="content"></div>
          <div horizontal center-justified layout>
            <core-icon class="perma-link" icon="fa:ellipsis-h"></core-icon>
          </div>
        </a>
      </paper-shadow>
    </div>

  </template>
  <script>
    (function () {
      Polymer({
        link : null,
        height: 1,
        // define element prototype here
        articleChanged: function() {
          this.$.content.innerHTML = this.article.excerpt;
          this.link = this.article.link.replace('.md', '');
          this.$.card_shadow.setZ(this.height);
        },
        onHovered: function() {
          this.$.card_shadow.setZ(this.height + 2);
        },
        onUnhovered: function() {
          this.$.card_shadow.setZ(this.height);
        }
      });
    })();
  </script>
</polymer-element>
